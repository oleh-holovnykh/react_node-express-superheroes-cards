{"version":3,"sources":["App.module.scss","utils/fetchClient.ts","firebase.ts","components/addHeroForm/addHeroForm.tsx","components/heroCard/heroCard.tsx","components/heroList/heroList.tsx","images/addNew.png","components/customModal/customModal.tsx","images/add-image.svg","components/heroInfo/heroInfo.tsx","App.tsx","index.tsx","components/heroInfo/heroInfo.module.scss","components/addHeroForm/addHeroForm.module.scss","components/heroCard/heroCard.module.scss","components/heroList/heroList.module.scss"],"names":["module","exports","RENDER_URL","request","url","method","data","options","body","JSON","stringify","headers","fetch","then","response","json","catch","error","message","client","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","getStorage","uploadImage","heroNickName","image","a","imageRef","ref","name","uploadBytes","getAllImagesURLs","imagesPaths","Promise","all","map","imagePath","getDownloadURL","urls","deleteImage","desertRef","deleteObject","Error","getAllPathsFromDirectory","directory","directoryRef","listAll","result","paths","items","item","fullPath","deleteDirectory","AddHeroForm","onModalClose","onDataUpdate","handleFormSubmit","values","nickname","realName","originDescription","superpowers","catchPhrase","files","newHero","imagesURLs","images","file","toast","success","className","styles","onSubmit","validate","errors","handleSubmit","submitting","input","meta","TextField","id","label","variant","size","touched","helperText","multiline","maxRows","multiple","type","onChange","event","target","Button","color","disabled","CircularProgress","sx","margin","HeroCard","React","memo","imageURL","handleModalOpen","role","tabIndex","onClick","onKeyDown","e","key","src","alt","HeroList","heroes","useState","currentPage","setCurrentPage","cardsPerPage","pageCount","Math","ceil","length","indexOfLastCard","indexOfFirstCard","currentCards","slice","hero","Pagination","count","page","pageNumber","position","top","left","transform","width","bgcolor","boxShadow","p","borderRadius","overflow","CustomModal","isOpen","handleClose","children","Modal","open","onClose","aria-labelledby","aria-describedby","Box","HeroInfo","nick","setNick","setName","origin","setOrigin","powers","setPowers","phrase","setPhrase","photoURLs","setPhotoURLs","selectedImage","setSelectedImage","showEditForm","setShowEditForm","isLoading","setIsLoading","isImageLoading","setIsImageLoading","handleFilesUploadOnChange","preventDefault","state","imagesPathsWithURLs","filter","img","handleUpdate","newHeroInfo","handleImageClick","imageUrl","handleDeleteHero","handleDeletePhoto","imgPath","newImagesURLs","element","value","defaultValue","marginRight","startIcon","i","isThisImageLoading","includes","IconButton","stopPropagation","right","aria-label","style","htmlFor","addImage","Boolean","App","setHeroes","isModalOpen","setIsModalOpen","modalHero","setModalHero","fetchHeroes","allHeroes","useEffect","handleModalClose","selectedHero","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29659b1d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-container\":\"App_app-container__3aS4i\"};","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { HeroData } from 'types/hero';\n\nconst PRODUCTION_URL = 'https://superheroes-18i0.onrender.com/heroes';\nconst LOCAL_URL = 'http://localhost:5500/heroes';\n\nconst RENDER_URL = process.env.NODE_ENV === 'production' ? PRODUCTION_URL : LOCAL_URL;\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return fetch(RENDER_URL + url, options)\n    .then(response => response.json())\n    .catch((error) => `some error ${error.message}`);\n}\n\nexport const client = {\n  get: (url: string) => request<HeroData[]>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","import { initializeApp } from 'firebase/app';\nimport {\n  uploadBytes, ref, getStorage, getDownloadURL, deleteObject, listAll,\n} from 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\n\nconst storage = getStorage(app);\n\nexport const uploadImage = async (heroNickName: string, image: File) => {\n  const imageRef = ref(storage, `${heroNickName}/${image.name}`);\n\n  await uploadBytes(imageRef, image);\n};\n\nexport const getAllImagesURLs = async (imagesPaths: string[]) => {\n  const urls = await Promise.all(imagesPaths.map(async imagePath => {\n    const imageRef = ref(storage, imagePath);\n    const url = await getDownloadURL(imageRef);\n\n    return [imagePath, url];\n  }));\n\n  return urls;\n};\n\nexport const deleteImage = async (imagePath: string) => {\n  const desertRef = ref(storage, imagePath);\n\n  try {\n    await deleteObject(desertRef);\n  } catch (e: any) {\n    throw new Error(`Can\\`t delete image ${e.message}`);\n  }\n};\n\nexport const getAllPathsFromDirectory = async (directory: string) => {\n  const directoryRef = ref(storage, `${directory}/`);\n\n  const result = await listAll(directoryRef);\n  const paths = result.items.map(item => item.fullPath);\n\n  return paths;\n};\n\nexport const deleteDirectory = async (directory: string) => {\n  const directoryRef = ref(storage, `${directory}/`);\n\n  try {\n    const result = await listAll(directoryRef);\n\n    await Promise.all(result.items.map(item => deleteObject(item)\n      .catch(error => {\n        throw new Error(`Can't delete photo. Error:${error.message}`);\n      })));\n  } catch (e: any) {\n    throw new Error(`Can't delete images folder: ${e.message}`);\n  }\n};\n","import React from 'react';\nimport { Button, CircularProgress, TextField } from '@mui/material';\nimport { toast } from 'react-toastify';\nimport { client } from 'utils/fetchClient';\nimport { HeroData } from 'types/hero';\nimport { getAllImagesURLs, getAllPathsFromDirectory, uploadImage } from 'firebase';\nimport { Field, Form } from 'react-final-form';\nimport styles from './addHeroForm.module.scss';\n\ninterface Props {\n  onModalClose: () => void;\n  onDataUpdate: () => Promise<void>;\n}\n\ninterface FormValues {\n  nickname: string,\n  realName: string,\n  originDescription: string,\n  superpowers: string,\n  catchPhrase: string,\n  files: FileList,\n}\n\ninterface ErrorValues {\n  nickname?: string,\n  realName?: string,\n  originDescription?: string,\n  superpowers?: string,\n  catchPhrase?: string,\n  files?: string,\n}\n\nexport const AddHeroForm: React.FC<Props> = ({ onModalClose, onDataUpdate }) => {\n  const handleFormSubmit = async (values: FormValues) => {\n    const {\n      nickname,\n      realName,\n      originDescription,\n      superpowers,\n      catchPhrase,\n      files,\n    } = values;\n\n    const newHero: Partial<HeroData> = {\n      nickname,\n      realName,\n      originDescription,\n      superpowers,\n      catchPhrase,\n      imagesURLs: [],\n    };\n\n    if (files) {\n      const images = [...files];\n\n      await Promise.all(images.map(async (file) => {\n        try {\n          await uploadImage(nickname, file);\n        } catch (e:any) {\n          throw new Error(`Can't upload image: ${e.message}. Try again later`);\n        }\n      }));\n    }\n\n    try {\n      const imagesPaths = await getAllPathsFromDirectory(nickname);\n\n      newHero.imagesURLs = await getAllImagesURLs(imagesPaths);\n    } catch (e: any) {\n      throw new Error(`Can't get images URLs from storage: ${e.message}. Try again later`);\n    }\n\n    try {\n      await client.post('/', newHero);\n      await onDataUpdate();\n    } catch (e: any) {\n      throw new Error(`Can't add hero: ${e.message}. Try it later`);\n    }\n\n    toast.success(`${newHero.nickname} was added`);\n    onModalClose();\n  };\n\n  return (\n    <div className={styles['add-form-container']}>\n      <Form\n        onSubmit={handleFormSubmit}\n        validate={values => {\n          const errors: ErrorValues = {};\n\n          if (!values.nickname) {\n            errors.nickname = 'Required';\n          }\n\n          if (!values.realName) {\n            errors.realName = 'Required';\n          }\n\n          if (!values.originDescription) {\n            errors.originDescription = 'Required';\n          }\n\n          if (!values.superpowers) {\n            errors.superpowers = 'Required';\n          }\n\n          if (!values.catchPhrase) {\n            errors.catchPhrase = 'Required';\n          }\n\n          return errors;\n        }}\n      >\n        {({ handleSubmit, submitting }) => (\n          <form className={styles['add-form']} onSubmit={handleSubmit}>\n            <Field name=\"nickname\">\n              {({ input, meta }) => (\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-basic\"\n                  label=\"Nickname\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  error={meta.error && meta.touched}\n                  helperText={meta.touched && meta.error}\n                  {...input}\n                />\n              )}\n            </Field>\n\n            <Field name=\"realName\">\n              {({ input, meta }) => (\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-basic\"\n                  label=\"Real name\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  {...input}\n                  error={meta.touched && meta.error}\n                  helperText={meta.touched && meta.error}\n                />\n              )}\n            </Field>\n\n            <Field name=\"originDescription\">\n              {({ input, meta }) => (\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Origin description\"\n                  multiline\n                  maxRows={4}\n                  size=\"small\"\n                  {...input}\n                  error={meta.touched && meta.error}\n                  helperText={meta.touched && meta.error}\n                />\n              )}\n            </Field>\n\n            <Field name=\"superpowers\">\n              {({ input, meta }) => (\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Superpowers\"\n                  multiline\n                  maxRows={4}\n                  size=\"small\"\n                  {...input}\n                  error={meta.touched && meta.error}\n                  helperText={meta.touched && meta.error}\n                />\n              )}\n            </Field>\n\n            <Field name=\"catchPhrase\">\n              {({ input, meta }) => (\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Catch phrase\"\n                  multiline\n                  maxRows={4}\n                  size=\"small\"\n                  {...input}\n                  error={meta.touched && meta.error}\n                  helperText={meta.touched && meta.error}\n                />\n              )}\n            </Field>\n\n            <Field name=\"files\" multiple>\n              {({ input }) => (\n                <input\n                  type=\"file\"\n                  multiple\n                  onChange={(event) => input.onChange(event.target.files)}\n                  className={styles['file-input']}\n                />\n              )}\n            </Field>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"success\"\n              size=\"small\"\n              disabled={submitting}\n            >\n              {submitting ? (\n                <CircularProgress\n                  sx={{\n                    margin: 'auto',\n                  }}\n                  color=\"success\"\n                />\n              ) : 'Add Hero'}\n            </Button>\n          </form>\n        )}\n      </Form>\n    </div>\n  );\n};\n\n// import React, { ChangeEvent, useRef, useState } from 'react';\n// import { Button, CircularProgress, TextField } from '@mui/material';\n// import { toast } from 'react-toastify';\n// import { client } from 'utils/fetchClient';\n// import { HeroData } from 'types/hero';\n// import styles from './addHeroForm.module.scss';\n// import { getAllImagesURLs, getAllPathsFromDirectory, uploadImage } from '../../firebase';\n//\n// interface Props {\n//   onModalClose: () => void;\n//   onDataUpdate: () => Promise<void>;\n// }\n//\n// export const AddHeroForm: React.FC<Props> = ({ onModalClose, onDataUpdate }) => {\n//   const [nickname, setNickname] = useState('');\n//   const [realName, setRealName] = useState('');\n//   const [originDescription, setOriginDescription] = useState('');\n//   const [superpowers, setSuperpowers] = useState('');\n//   const [catchPhrase, setCatchPhrase] = useState('');\n//   const [isLoading, setIsLoading] = useState(false);\n//   const [fileList, setFileList] = useState<FileList | null>(null);\n//   const filesInput = useRef<HTMLInputElement | null>(null);\n//\n//   const clearForm = () => {\n//     setNickname('');\n//     setRealName('');\n//     setOriginDescription('');\n//     setSuperpowers('');\n//     setCatchPhrase('');\n//   };\n//\n//   const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {\n//     if (event.target.files) {\n//       setFileList(event.target.files);\n//     }\n//   };\n//\n//   const handleFormSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n//     event.preventDefault();\n//     setIsLoading(true);\n//\n//     clearForm();\n//\n//     const newHero: Partial<HeroData> = {\n//       nickname,\n//       realName,\n//       originDescription,\n//       superpowers,\n//       catchPhrase,\n//       imagesURLs: [],\n//     };\n//\n//     if (fileList) {\n//       const files = [...fileList];\n//\n//       await Promise.all(files.map(async (file) => {\n//         try {\n//           await uploadImage(nickname, file);\n//         } catch (e:any) {\n//           throw new Error(`Can't upload image: ${e.message}. Try again later`);\n//         }\n//       }));\n//     }\n//\n//     try {\n//       const imagesPaths = await getAllPathsFromDirectory(nickname);\n//\n//       newHero.imagesURLs = await getAllImagesURLs(imagesPaths);\n//     } catch (e: any) {\n//       throw new Error(`Can't get images URLs from storage: ${e.message}. Try again later`);\n//     }\n//\n//     if (filesInput.current && filesInput.current.value) {\n//       filesInput.current.value = '';\n//     }\n//\n//     try {\n//       await client.post('/', newHero);\n//       await onDataUpdate();\n//     } catch (e: any) {\n//       throw new Error(`Can't add hero: ${e.message}. Try it later`);\n//     }\n//\n//     setFileList(null);\n//     setIsLoading(false);\n//     toast.success(`${newHero.nickname} was added`);\n//     onModalClose();\n//   };\n//\n//   return (\n//       <div className={styles['add-form-container']}>\n//         <form className={styles['add-form']} onSubmit={handleFormSubmit}>\n//           {!isLoading ? (\n//               <>\n//                 <TextField\n//                     className={styles['add-form_field']}\n//                     id=\"outlined-basic\"\n//                     label=\"Nickname\"\n//                     variant=\"outlined\"\n//                     value={nickname}\n//                     size=\"small\"\n//                     onChange={(e) => setNickname(e.target.value)}\n//                 />\n//\n//                 <TextField\n//                     className={styles['add-form_field']}\n//                     id=\"outlined-basic\"\n//                     label=\"Real name\"\n//                     variant=\"outlined\"\n//                     value={realName}\n//                     size=\"small\"\n//                     onChange={(e) => setRealName(e.target.value)}\n//                 />\n//\n//                 <TextField\n//                     className={styles['add-form_field']}\n//                     id=\"outlined-multiline-flexible\"\n//                     label=\"Origin description\"\n//                     multiline\n//                     maxRows={4}\n//                     value={originDescription}\n//                     size=\"small\"\n//                     onChange={(e) => setOriginDescription(e.target.value)}\n//                 />\n//\n//                 <TextField\n//                     className={styles['add-form_field']}\n//                     id=\"outlined-multiline-flexible\"\n//                     label=\"Superpowers\"\n//                     multiline\n//                     maxRows={4}\n//                     value={superpowers}\n//                     size=\"small\"\n//                     onChange={(e) => setSuperpowers(e.target.value)}\n//                 />\n//\n//                 <TextField\n//                     className={styles['add-form_field']}\n//                     id=\"outlined-multiline-flexible\"\n//                     label=\"Catch phrase\"\n//                     multiline\n//                     maxRows={4}\n//                     value={catchPhrase}\n//                     size=\"small\"\n//                     onChange={(e) => setCatchPhrase(e.target.value)}\n//                 />\n//\n//                 <input\n//                     type=\"file\"\n//                     multiple\n//                     onChange={handleFileChange}\n//                     ref={filesInput}\n//                     className={styles['file-input']}\n//                 />\n//                 <Button\n//                     type=\"submit\"\n//                     variant=\"contained\"\n//                     color=\"success\"\n//                     size=\"small\"\n//                 >\n//                   Add Hero\n//                 </Button>\n//               </>\n//           ) : (\n//               <CircularProgress\n//                   sx={{\n//                     margin: 'auto',\n//                   }}\n//                   color=\"success\"\n//               />\n//           )}\n//         </form>\n//       </div>\n//   );\n// };\n","import React from 'react';\nimport styles from './heroCard.module.scss';\n\ninterface Props {\n  heroNickName: string,\n  imageURL: string,\n  handleModalOpen: (heroNickName: string|undefined) => void,\n}\nexport const HeroCard: React.FC<Props> = React.memo(({\n  heroNickName,\n  imageURL,\n  handleModalOpen,\n}) => (\n  <div\n    className={styles['hero-card']}\n    role=\"button\"\n    tabIndex={0}\n    onClick={() => {\n      handleModalOpen(heroNickName);\n    }}\n    onKeyDown={(e) => {\n      if (e.key === 'Enter') {\n        handleModalOpen(heroNickName);\n      }\n    }}\n  >\n    <img\n      className={styles['hero-card_image']}\n      src={imageURL}\n      alt={`${heroNickName}`}\n    />\n\n    <span className={styles['hero-card_title']}>\n      {heroNickName}\n    </span>\n  </div>\n));\n","import React, { useState } from 'react';\nimport { Pagination } from '@mui/material';\nimport { HeroData } from 'types/hero';\nimport createNewImage from 'images/addNew.png';\nimport { HeroCard } from 'components/heroCard';\nimport styles from './heroList.module.scss';\n\ninterface Props {\n  heroes: HeroData[];\n  handleModalOpen: (heroNickName:string|undefined) => void;\n}\nexport const HeroList: React.FC<Props> = ({ heroes, handleModalOpen }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [cardsPerPage] = useState(5);\n\n  const pageCount = Math.ceil(heroes.length / cardsPerPage);\n\n  const handlePageChange = (event: React.ChangeEvent<unknown>, pageNumber: number) => {\n    setCurrentPage(pageNumber);\n  };\n\n  const indexOfLastCard = currentPage * cardsPerPage;\n  const indexOfFirstCard = indexOfLastCard - cardsPerPage;\n  const currentCards = heroes.slice(indexOfFirstCard, indexOfLastCard);\n\n  return (\n    <div className={styles['list-wrapper']}>\n      <div className={styles['list-container']}>\n        {currentCards.map((hero) => (\n          <HeroCard\n            key={hero.id}\n            heroNickName={hero.nickname}\n            imageURL={hero.imagesURLs[0][1]}\n            handleModalOpen={handleModalOpen}\n          />\n        ))}\n        <HeroCard\n          heroNickName=\"Add new Hero\"\n          imageURL={createNewImage}\n          handleModalOpen={handleModalOpen}\n        />\n      </div>\n      {pageCount >= 2 && (\n        <div className={styles['pagination-background']}>\n          <Pagination\n            count={pageCount}\n            page={currentPage}\n            onChange={handlePageChange}\n            color=\"primary\"\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAD6CAYAAAAIn20uAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO3dvW1aUQCG4Tg/EyTKAExglqK5NZIn8AZewmswBqUlg4LSIBkh7MRZgcIXovc+T30EX/EKnYpzM5/Pnz9BxOdrD4CPJGhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGT8vXaA2pub2+/nXv25eXlfb1ev425Z2oE/cHu7u5+nHv26enptFwuf4+5Z2pcOUgRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEm5mc/nz9cecQmz2ezL/f39z2vvuLT9fv9nsVj8uvaOS/ELTYqgSRE0KYImRdCkCJoUQZMiaFIETYqgSZnMo0Hb7fbvw8PD6A/0DMPw/dyzu93u9fHxcT/mntPp9D7m5/9vJhP04XB4X61Wp7G/ZxiGs88ej8eLbJoSVw5SBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTMpk/mrmU9Xp9PPfsZrN5G3PLFE3mFSymwZWDFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCn/AN7gRuouJQ2DAAAAAElFTkSuQmCC\"","import { Modal, Box } from '@mui/material';\nimport React from 'react';\n\ninterface Props {\n  isOpen: boolean,\n  handleClose: () => void,\n}\n\nconst styles = {\n  position: 'absolute' as const,\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 'content-width',\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n  borderRadius: 4,\n  overflow: 'auto',\n};\n\nexport const CustomModal: React.FC<Props> = ({ isOpen, handleClose, children }) => (\n  <Modal\n    open={isOpen}\n    onClose={handleClose}\n    aria-labelledby=\"modal-modal-title\"\n    aria-describedby=\"modal-modal-description\"\n  >\n    <Box sx={styles}>\n      {children}\n    </Box>\n  </Modal>\n);\n","export default __webpack_public_path__ + \"static/media/add-image.9133d22b.svg\";","/* eslint-disable no-console */\nimport React, { ChangeEvent, useState } from 'react';\nimport {\n  Button, CircularProgress, Modal, TextField,\n} from '@mui/material';\nimport EditIcon from '@mui/icons-material/Edit';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { toast } from 'react-toastify';\nimport { HeroData } from '../../types/hero';\nimport styles from './heroInfo.module.scss';\nimport { client } from '../../utils/fetchClient';\nimport {\n  deleteDirectory, deleteImage, getAllImagesURLs, getAllPathsFromDirectory, uploadImage,\n} from '../../firebase';\nimport addImage from '../../images/add-image.svg';\n\ninterface Props {\n  hero: HeroData;\n  onModalClose: () => void;\n  onDataUpdate: () => Promise<void>\n}\nexport const HeroInfo: React.FC<Props> = React.memo(({ hero, onModalClose, onDataUpdate }) => {\n  const {\n    id,\n    nickname,\n    realName,\n    originDescription,\n    superpowers,\n    catchPhrase,\n    imagesURLs,\n  } = hero;\n\n  const [nick, setNick] = useState(nickname);\n  const [name, setName] = useState(realName);\n  const [origin, setOrigin] = useState(originDescription);\n  const [powers, setPowers] = useState(superpowers);\n  const [phrase, setPhrase] = useState(catchPhrase);\n  const [photoURLs, setPhotoURLs] = useState(imagesURLs);\n  const [selectedImage, setSelectedImage] = useState('');\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isImageLoading, setIsImageLoading] = useState<string[]>([]);\n\n  const handleFilesUploadOnChange = async (event: ChangeEvent<HTMLInputElement>) => {\n    event.preventDefault();\n\n    if (!event.target.files) {\n      return;\n    }\n\n    setIsImageLoading(state => [...state, 'add new photo\\'s']);\n\n    const files = [...event.target.files];\n\n    await Promise.all(files.map(async (file) => {\n      try {\n        await uploadImage(nickname, file);\n      } catch (e: any) {\n        throw new Error(`Can't upload image: ${e.message}`);\n      }\n    }));\n\n    try {\n      const imagesPaths = await getAllPathsFromDirectory(nickname);\n      const imagesPathsWithURLs = await getAllImagesURLs(imagesPaths);\n\n      await client.patch(`/${id}`, { imagesURLs: imagesPathsWithURLs });\n\n      await onDataUpdate();\n\n      setPhotoURLs(imagesPathsWithURLs);\n    } catch (e: any) {\n      throw new Error(`Can't upload new photos: ${e.message}`);\n    }\n\n    setIsImageLoading(state => state.filter(img => img !== 'add new photo\\'s'));\n  };\n\n  const handleUpdate = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    const newHeroInfo = {\n      nickname: nick,\n      realName: name,\n      originDescription: origin,\n      superpowers: powers,\n      catchPhrase: phrase,\n    };\n\n    try {\n      await client.patch(`/${id}`, newHeroInfo);\n    } catch (e:any) {\n      throw new Error(`Can't update hero information: ${e.message}`);\n    }\n\n    setIsLoading(false);\n    setShowEditForm(false);\n  };\n\n  const handleCancel = () => {\n    setNick(nickname);\n    setName(realName);\n    setOrigin(originDescription);\n    setPowers(superpowers);\n    setPhrase(catchPhrase);\n    setShowEditForm(false);\n  };\n\n  const handleOpenEditForm = () => {\n    setShowEditForm(true);\n  };\n\n  const handleImageClick = (imageUrl: string) => {\n    setSelectedImage(imageUrl);\n  };\n\n  const handleDeleteHero = async () => {\n    setIsLoading(true);\n\n    try {\n      await deleteDirectory(`${nickname}/`);\n\n      await client.delete(`/${id}`);\n\n      await onDataUpdate();\n    } catch (e: any) {\n      throw new Error(`I was unable to delete the hero. Something went wrong: ${e.message}`);\n    }\n\n    toast.success('Hero was deleted');\n    onModalClose();\n    setIsLoading(false);\n  };\n\n  const handleDeletePhoto = async (imgPath: string) => {\n    setIsImageLoading(state => [...state, imgPath]);\n\n    try {\n      await deleteImage(imgPath);\n\n      const newImagesURLs = photoURLs.filter(imageURL => imageURL[0] !== imgPath);\n\n      setPhotoURLs(newImagesURLs);\n\n      await client.patch(`/${id}`, { imagesURLs: newImagesURLs });\n\n      await onDataUpdate();\n    } catch (e:any) {\n      throw new Error(`Something went wrong: ${e.message}`);\n    }\n\n    setIsImageLoading(state => state.filter(element => element !== imgPath));\n  };\n\n  return (\n    <div className={styles['info-container']}>\n      <div className={styles['info-container_main']}>\n        <div className={styles['info-container_main_photo']}>\n          <img className={styles['info-container_main_photo_img']} src={imagesURLs[0][1]} alt={nickname} />\n        </div>\n        <div className={styles['info-container_main_info']}>\n          {showEditForm\n            ? (\n              <form onSubmit={handleUpdate}>\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-basic\"\n                  label=\"Nickname\"\n                  variant=\"outlined\"\n                  value={nick}\n                  size=\"small\"\n                  onChange={(e) => setNick(e.target.value)}\n                  disabled={isLoading}\n                />\n\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-basic\"\n                  label=\"Real name\"\n                  variant=\"outlined\"\n                  value={name}\n                  size=\"small\"\n                  onChange={(e) => setName(e.target.value)}\n                  disabled={isLoading}\n                />\n\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Origin description\"\n                  multiline\n                  maxRows={4}\n                  defaultValue=\"Origin description\"\n                  value={origin}\n                  size=\"small\"\n                  onChange={(e) => setOrigin(e.target.value)}\n                  disabled={isLoading}\n                />\n\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Superpowers\"\n                  multiline\n                  maxRows={4}\n                  defaultValue=\"Superpowers\"\n                  value={powers}\n                  size=\"small\"\n                  onChange={(e) => setPowers(e.target.value)}\n                  disabled={isLoading}\n                />\n\n                <TextField\n                  className={styles['add-form_field']}\n                  id=\"outlined-multiline-flexible\"\n                  label=\"Catch phrase\"\n                  multiline\n                  maxRows={4}\n                  defaultValue=\"Catch phrase\"\n                  value={phrase}\n                  size=\"small\"\n                  onChange={(e) => setPhrase(e.target.value)}\n                  disabled={isLoading}\n                />\n\n                {!isLoading\n                  ? (\n                    <>\n                      <div className={styles['button-container']}>\n                        <div>\n                          <Button\n                            sx={{ marginRight: '20px' }}\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"success\"\n                            size=\"small\"\n                          >\n                            Update\n                          </Button>\n                          <Button\n                            type=\"button\"\n                            variant=\"outlined\"\n                            onClick={handleCancel}\n                            size=\"small\"\n                          >\n                            Cancel\n                          </Button>\n                        </div>\n                        <Button\n                          type=\"button\"\n                          variant=\"outlined\"\n                          startIcon={<DeleteIcon />}\n                          color=\"error\"\n                          onClick={handleDeleteHero}\n                          size=\"small\"\n                        >\n                          Delete\n                        </Button>\n                      </div>\n                    </>\n                  )\n                  : <CircularProgress color=\"success\" />}\n              </form>\n            )\n            : (\n              <>\n                <span>\n                  <strong>\n                    {'Nickname: '}\n                  </strong>\n                  {nick}\n                </span>\n                <span>\n                  <strong>\n                    {'Real name: '}\n                  </strong>\n                  {name}\n                </span>\n                <span>\n                  <strong>\n                    {'Origin: '}\n                  </strong>\n                  {origin}\n                </span>\n                <span>\n                  <strong>\n                    {'Superpowers: '}\n                  </strong>\n                  {powers}\n                </span>\n                <span>\n                  <strong>\n                    {'Catch phrase: '}\n                  </strong>\n                  {phrase}\n                </span>\n              </>\n            )}\n        </div>\n      </div>\n      <div className={styles['info-container_gallery']}>\n        <strong className={styles['info-container_gallery_title']}>Gallery:</strong>\n        <div className={styles['info-container_gallery_photos']}>\n          {photoURLs.map((imageUrl, i) => {\n            const isThisImageLoading = isImageLoading.includes(imageUrl[0]);\n\n            return (\n              <div\n                key={imageUrl[0]}\n                role=\"button\"\n                tabIndex={0}\n                className={styles['info-container_gallery_photos_img-container']}\n                onClick={() => {\n                  handleImageClick(imageUrl[1]);\n                }}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    handleImageClick(imageUrl[1]);\n                  }\n                }}\n              >\n                <img\n                  className={styles['info-container_gallery_photos_img']}\n                  src={imageUrl[1]}\n                  alt={`${nickname} ${i}`}\n                />\n\n                {showEditForm && (\n                  <IconButton\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDeletePhoto(imageUrl[0]);\n                    }}\n                    sx={{\n                      position: 'absolute',\n                      top: '5px',\n                      right: '2px',\n                    }}\n                    aria-label=\"delete\"\n                    color=\"error\"\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                )}\n\n                {isThisImageLoading && (\n                  <CircularProgress\n                    style={{\n                      position: 'absolute' as const,\n                      top: '50%',\n                      left: '50%',\n                      transform: 'translate(-50%, -50%)',\n                    }}\n                    color=\"error\"\n                  />\n                )}\n              </div>\n            );\n          })}\n          {showEditForm && (\n            <label htmlFor=\"file-input\" className={styles['info-container_gallery_photos_img-container']}>\n              <input\n                id=\"file-input\"\n                type=\"file\"\n                multiple\n                onChange={handleFilesUploadOnChange}\n                className={styles['file-input']}\n              />\n              {!isImageLoading.includes('add new photo\\'s') && (\n                <img\n                  className={styles['info-container_gallery_photos_img']}\n                  src={addImage}\n                  alt=\"plus button\"\n                />\n              )}\n\n              {isImageLoading.includes('add new photo\\'s') && (\n                <CircularProgress\n                  style={{\n                    position: 'absolute' as const,\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                  }}\n                  color=\"primary\"\n                />\n              )}\n            </label>\n          )}\n        </div>\n      </div>\n\n      {!showEditForm && (\n        <IconButton\n          sx={{\n            position: 'absolute',\n            top: '15px',\n            right: '15px',\n          }}\n          onClick={handleOpenEditForm}\n          aria-label=\"Edit\"\n        >\n          <EditIcon />\n        </IconButton>\n      )}\n\n      <Modal\n        open={Boolean(selectedImage)}\n        onClose={() => setSelectedImage('')}\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-description\"\n      >\n        <div className={styles['modal-photo']}>\n          <img className={styles['modal-photo_image']} src={selectedImage} alt=\"Selected\" />\n        </div>\n      </Modal>\n    </div>\n  );\n});\n","import React, { useEffect, useState } from 'react';\nimport { CircularProgress } from '@mui/material';\nimport styles from 'App.module.scss';\nimport { AddHeroForm } from 'components/addHeroForm/addHeroForm';\nimport { HeroData } from 'types/hero';\nimport { client } from 'utils/fetchClient';\nimport { HeroList } from 'components/heroList';\nimport { CustomModal } from 'components/customModal';\nimport { HeroInfo } from 'components/heroInfo';\n\nexport const App: React.FC = () => {\n  const [heroes, setHeroes] = useState<HeroData[]>([]);\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n  const [modalHero, setModalHero] = useState<HeroData | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const fetchHeroes = async () => {\n    if (!isModalOpen) {\n      setIsLoading(true);\n    }\n\n    try {\n      const allHeroes = await client.get('/');\n\n      setHeroes(allHeroes);\n    } catch (e) {\n      throw new Error('Cant get any heroes :(');\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    fetchHeroes();\n  }, []);\n\n  const handleModalClose = () => {\n    setIsModalOpen(false);\n\n    if (modalHero) {\n      setModalHero(null);\n    }\n  };\n\n  const handleModalOpen = (heroNickName:string|undefined) => {\n    if (heroNickName !== 'Create new Hero!') {\n      const selectedHero = heroes.find(hero => hero.nickname === heroNickName);\n\n      if (selectedHero) {\n        setModalHero(selectedHero);\n      }\n    }\n\n    setIsModalOpen(true);\n  };\n\n  return (\n    <div className={styles['app-container']}>\n      {!isLoading && (\n        <>\n          <HeroList\n            heroes={heroes}\n            handleModalOpen={handleModalOpen}\n          />\n\n          <CustomModal\n            isOpen={isModalOpen}\n            handleClose={handleModalClose}\n          >\n            {modalHero ? (\n              <HeroInfo\n                hero={modalHero!}\n                onModalClose={handleModalClose}\n                onDataUpdate={fetchHeroes}\n              />\n            ) : (\n              <AddHeroForm\n                onDataUpdate={fetchHeroes}\n                onModalClose={handleModalClose}\n              />\n            )}\n          </CustomModal>\n        </>\n      )}\n      {isLoading && <CircularProgress color=\"primary\" />}\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.scss';\nimport { ToastContainer } from 'react-toastify';\nimport { App } from 'App';\nimport 'react-toastify/dist/ReactToastify.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastContainer />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info-container\":\"heroInfo_info-container__3xIGM\",\"info-container_main\":\"heroInfo_info-container_main__3UGSR\",\"info-container_main_photo\":\"heroInfo_info-container_main_photo__Szb5E\",\"info-container_main_photo_img\":\"heroInfo_info-container_main_photo_img__cnvtY\",\"info-container_main_info\":\"heroInfo_info-container_main_info__CFa0y\",\"info-container_gallery_title\":\"heroInfo_info-container_gallery_title__1E4U1\",\"info-container_gallery_photos\":\"heroInfo_info-container_gallery_photos__1ni5L\",\"info-container_gallery_photos_img-container\":\"heroInfo_info-container_gallery_photos_img-container__2Ur_H\",\"info-container_gallery_photos_img\":\"heroInfo_info-container_gallery_photos_img__3Qhjt\",\"modal-photo\":\"heroInfo_modal-photo__3hPTS\",\"modal-photo_image\":\"heroInfo_modal-photo_image__3mNXJ\",\"button-container\":\"heroInfo_button-container__1qlPY\",\"file-input\":\"heroInfo_file-input__29EFw\",\"add-form\":\"heroInfo_add-form__40Mr6\",\"add-form_field\":\"heroInfo_add-form_field__u1xO0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add-form-container\":\"addHeroForm_add-form-container__8Kstq\",\"add-form\":\"addHeroForm_add-form__29pPE\",\"add-form_field\":\"addHeroForm_add-form_field__2kofl\",\"file-input\":\"addHeroForm_file-input__2dnq_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero-card\":\"heroCard_hero-card__15Aa-\",\"hero-card_image\":\"heroCard_hero-card_image__3azH2\",\"hero-card_title\":\"heroCard_hero-card_title__1mNk8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list-wrapper\":\"heroList_list-wrapper__1Pxuk\",\"list-container\":\"heroList_list-container__3TGlY\",\"pagination-background\":\"heroList_pagination-background__bvrYh\"};"],"sourceRoot":""}