(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),i=a.n(c),s=(a(114),a(9)),o=a.n(s),l=a(16),u=a(6),m=(a(116),a(13)),d=a(181),p=a(186),j=a(189),b=(a(117),"https://superheroes-18i0.onrender.com/heroes");function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return a&&(n.body=JSON.stringify(a),n.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(b+e,n).then((function(e){return e.json()})).catch((function(e){return"some error ".concat(e.message)}))}var h=function(e){return f(e)},O=function(e,t){return f(e,"POST",t)},x=function(e,t){return f(e,"PATCH",t)},E=function(e){return f(e,"DELETE")},v=a(94),C=a(33),k=Object(v.a)({apiKey:"AIzaSyCXjaeaeUsCUCB793E_dLz68WylmeWmQoU",authDomain:"superheroes-fbf0f.firebaseapp.com",projectId:"superheroes-fbf0f",storageBucket:"superheroes-fbf0f.appspot.com",messagingSenderId:"871289350460",appId:"1:871289350460:web:aa9ce9609e7311f1709639"}),g=Object(C.c)(k);console.log("storage",g);var N=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(C.e)(g,"".concat(t,"/").concat(a.name)),e.next=3,Object(C.f)(n,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(g,t),e.next=3,Object(C.b)(a);case 3:return n=e.sent,e.abrupt("return",[t,n]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(g,t),e.prev=1,e.next=4,Object(C.a)(a);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Can`t delete image ".concat(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.e)(g,"".concat(t,"/")),e.next=3,Object(C.d)(a);case 3:return n=e.sent,r=n.items.map((function(e){return e.fullPath})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=a(1),T=function(e){var t=e.onDataUpdate,a=e.onModalClose,r=Object(n.useState)(""),c=Object(u.a)(r,2),i=c[0],s=c[1],b=Object(n.useState)(""),f=Object(u.a)(b,2),h=f[0],x=f[1],E=Object(n.useState)(""),v=Object(u.a)(E,2),C=v[0],k=v[1],g=Object(n.useState)(""),A=Object(u.a)(g,2),T=A[0],I=A[1],y=Object(n.useState)(""),B=Object(u.a)(y,2),X=B[0],F=B[1],G=Object(n.useState)(!1),K=Object(u.a)(G,2),J=K[0],Q=K[1],U=Object(n.useState)(null),z=Object(u.a)(U,2),D=z[0],L=z[1],M=Object(n.useRef)(null),P=function(){var e=Object(l.a)(o.a.mark((function e(n){var r,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),Q(!0),s(""),x(""),k(""),I(""),F(""),r={nickname:i,realName:h,originDescription:C,superpowers:T,catchPhrase:X,imagesURLs:[]},!D){e.next=8;break}return c=Object(m.a)(D),e.next=8,Promise.all(c.map(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(i,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,w(i);case 10:return u=e.sent,e.next=13,S(u);case 13:return r.imagesURLs=e.sent,M.current&&M.current.value&&(M.current.value=""),e.next=17,O("/",r);case 17:L(null),t(),Q(!1),a();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:"add-form-container",children:Object(R.jsxs)("form",{action:"submit",className:"add-form",onSubmit:P,children:[Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-basic",label:"Nickname",variant:"outlined",value:i,size:"small",onChange:function(e){return s(e.target.value)}}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-basic",label:"Real name",variant:"outlined",value:h,size:"small",onChange:function(e){return x(e.target.value)}}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Origin description",multiline:!0,maxRows:4,defaultValue:"Origin description",value:C,size:"small",onChange:function(e){return k(e.target.value)}}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Superpowers",multiline:!0,maxRows:4,defaultValue:"Superpowers",value:T,size:"small",onChange:function(e){return I(e.target.value)}}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Catch phrase",multiline:!0,maxRows:4,defaultValue:"Catch phrase",value:X,size:"small",onChange:function(e){return F(e.target.value)}}),Object(R.jsx)("input",{type:"file",multiple:!0,onChange:function(e){e.target.files&&L(e.target.files)},ref:M,className:"file-input"}),J?Object(R.jsx)(j.a,{color:"success"}):Object(R.jsx)(p.a,{className:"add-form_button",type:"submit",variant:"contained",color:"success",size:"small",children:"Add Hero"})]})})},I=a(183),y=(a(128),r.a.memo((function(e){var t=e.heroNickName,a=e.imageURL,n=e.handleModalOpen;return Object(R.jsxs)("div",{className:"hero-card",role:"button",tabIndex:0,onClick:function(){n(t)},onKeyDown:function(e){"Enter"===e.key&&n(t)},children:[Object(R.jsx)("img",{className:"card-image",src:a,alt:"".concat(t)}),Object(R.jsx)("div",{className:"card-text",children:Object(R.jsx)("span",{className:"card-text_title",children:t})})]})}))),B=(a(129),function(e){var t=e.heroes,a=e.handleModalOpen,r=Object(n.useState)(1),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(5),l=Object(u.a)(o,1)[0],m=Math.ceil(t.length/l),d=i*l,p=d-l,j=t.slice(p,d);return Object(R.jsxs)("div",{className:"list-wrapper",children:[Object(R.jsxs)("div",{className:"list-container",children:[j.map((function(e){return Object(R.jsx)(y,{heroNickName:e.nickname,imageURL:e.imagesURLs[0][1],handleModalOpen:a},e.id)})),Object(R.jsx)(y,{heroNickName:"Add new Hero",imageURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAD6CAYAAAAIn20uAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO3dvW1aUQCG4Tg/EyTKAExglqK5NZIn8AZewmswBqUlg4LSIBkh7MRZgcIXovc+T30EX/EKnYpzM5/Pnz9BxOdrD4CPJGhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGT8vXaA2pub2+/nXv25eXlfb1ev425Z2oE/cHu7u5+nHv26enptFwuf4+5Z2pcOUgRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEm5mc/nz9cecQmz2ezL/f39z2vvuLT9fv9nsVj8uvaOS/ELTYqgSRE0KYImRdCkCJoUQZMiaFIETYqgSZnMo0Hb7fbvw8PD6A/0DMPw/dyzu93u9fHxcT/mntPp9D7m5/9vJhP04XB4X61Wp7G/ZxiGs88ej8eLbJoSVw5SBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTMpk/mrmU9Xp9PPfsZrN5G3PLFE3mFSymwZWDFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCmCJkXQpAiaFEGTImhSBE2KoEkRNCn/AN7gRuouJQ2DAAAAAElFTkSuQmCC",handleModalOpen:a})]}),m>=2&&Object(R.jsx)("div",{className:"pagination-wrapper",children:Object(R.jsx)(I.a,{className:"pagination",count:m,page:i,onChange:function(e,t){s(t)},color:"primary"})})]})}),X=a(182),F=a(187),G=(a(130),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"content-width",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:4}),K=function(e){var t=e.isOpen,a=e.handleClose,n=e.children;return Object(R.jsx)(X.a,{open:t,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(R.jsx)(F.a,{sx:G,children:n})})},J=a(98),Q=a.n(J),U=a(190),z=a(83),D=a.n(z),L=(a(131),function(e){var t=e.hero,a=e.onDataUpdate,r=e.onModalClose,c=t.id,i=t.nickname,s=t.realName,b=t.originDescription,f=t.superpowers,h=t.catchPhrase,O=t.imagesURLs,v=Object(n.useState)(i),C=Object(u.a)(v,2),k=C[0],g=C[1],N=Object(n.useState)(s),S=Object(u.a)(N,2),w=S[0],T=S[1],I=Object(n.useState)(b),y=Object(u.a)(I,2),B=y[0],G=y[1],K=Object(n.useState)(f),J=Object(u.a)(K,2),z=J[0],L=J[1],M=Object(n.useState)(h),P=Object(u.a)(M,2),_=P[0],V=P[1],Z=Object(n.useState)(O),H=Object(u.a)(Z,2),W=H[0],Y=H[1],q=Object(n.useState)(""),$=Object(u.a)(q,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(n.useState)(!1),se=Object(u.a)(ie,2),oe=se[0],le=se[1],ue=Object(n.useState)([]),me=Object(u.a)(ue,2),de=me[0],pe=me[1],je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),le(!0),n={nickname:k,realName:w,originDescription:B,superpowers:z,catchPhrase:_},e.next=5,x("/".concat(c),n);case 5:return e.next=7,a();case 7:le(!1),ce(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){te(e)},fe=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!0),e.next=3,E("/".concat(c));case 3:return e.next=5,a();case 5:r(),le(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe((function(e){return[].concat(Object(m.a)(e),[t])})),e.next=3,A(t);case 3:return n=O.filter((function(e){return e[0]!==t})),e.next=6,x("/".concat(c),{imagesURLs:n});case 6:return e.next=8,a();case 8:Y(n),pe((function(e){return e.filter((function(e){return e!==t}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"info-container",children:[Object(R.jsxs)("div",{className:"info-container_main-info",children:[Object(R.jsx)("div",{className:"info-container_main-photo",children:Object(R.jsx)("img",{className:"main-img",src:O[0][1],alt:i})}),Object(R.jsx)("div",{className:"info-container_hero-info",children:re?Object(R.jsxs)("form",{onSubmit:je,children:[Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-basic",label:"Nickname",variant:"outlined",value:k,size:"small",onChange:function(e){return g(e.target.value)},disabled:oe}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-basic",label:"Real name",variant:"outlined",value:w,size:"small",onChange:function(e){return T(e.target.value)},disabled:oe}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Origin description",multiline:!0,maxRows:4,defaultValue:"Origin description",value:B,size:"small",onChange:function(e){return G(e.target.value)},disabled:oe}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Superpowers",multiline:!0,maxRows:4,defaultValue:"Superpowers",value:z,size:"small",onChange:function(e){return L(e.target.value)},disabled:oe}),Object(R.jsx)(d.a,{className:"add-form_field",id:"outlined-multiline-flexible",label:"Catch phrase",multiline:!0,maxRows:4,defaultValue:"Catch phrase",value:_,size:"small",onChange:function(e){return V(e.target.value)},disabled:oe}),oe?Object(R.jsx)(j.a,{color:"success"}):Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"button-container",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(p.a,{sx:{marginRight:"20px"},type:"submit",variant:"contained",color:"success",size:"small",children:"Update"}),Object(R.jsx)(p.a,{type:"button",variant:"outlined",onClick:function(){g(i),T(s),G(b),L(f),V(h),ce(!1)},size:"small",children:"Cancel"})]}),Object(R.jsx)(p.a,{type:"button",variant:"outlined",startIcon:Object(R.jsx)(D.a,{}),color:"error",onClick:fe,size:"small",children:"Delete"})]})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("p",{children:[Object(R.jsx)("strong",{children:"Nickname: "}),k]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("strong",{children:"Real name: "}),w]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("strong",{children:"Origin: "}),B]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("strong",{children:"Superpowers: "}),z]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("strong",{children:"Catch phrase: "}),_]})]})})]}),Object(R.jsx)("strong",{children:"Galery:"}),Object(R.jsx)("div",{className:"info-container_photo-gallery",children:W.map((function(e,t){var a=de.includes(e[0]);return Object(R.jsxs)("div",{role:"button",tabIndex:0,className:"img-container",onClick:function(){be(e[1])},onKeyDown:function(t){"Enter"===t.key&&be(e[1])},children:[Object(R.jsx)("img",{className:"gallery-img",src:e[1],alt:"".concat(i," ").concat(t)}),re&&Object(R.jsx)(U.a,{onClick:function(t){t.stopPropagation(),he(e[0])},sx:{position:"absolute",top:"5px",right:"2px"},"aria-label":"delete",color:"error",children:Object(R.jsx)(D.a,{})}),a&&Object(R.jsx)(j.a,{style:{position:"absolute",top:"50%",right:"50%",transform:"translate(-50%, -50%)"},color:"error"})]},e[0])}))}),!re&&Object(R.jsx)(U.a,{sx:{position:"absolute",top:"15px",right:"15px"},onClick:function(){ce(!0)},"aria-label":"Edit",children:Object(R.jsx)(Q.a,{})}),Object(R.jsx)(X.a,{open:Boolean(ee),onClose:function(){return te("")},"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:Object(R.jsx)("div",{className:"modal-content",children:Object(R.jsx)(F.a,{sx:{width:"700px",height:"600px"},children:Object(R.jsx)("img",{className:"modal-image",src:ee,alt:"Selected"})})})})]})}),M=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(n.useState)(null),p=Object(u.a)(d,2),j=p[0],b=p[1],f=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/");case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[]);var O=function(){m(!1),j&&b(null)};return Object(R.jsxs)("div",{className:"starter app-container",children:[Object(R.jsx)(B,{heroes:a,handleModalOpen:function(e){if("Create new Hero!"!==e){var t=a.find((function(t){return t.nickname===e}));t&&b(t)}m(!0)}}),Object(R.jsx)(K,{isOpen:s,handleClose:O,children:j?Object(R.jsx)(L,{hero:j,onDataUpdate:f,onModalClose:O}):Object(R.jsx)(T,{onDataUpdate:f,onModalClose:O})})]})};a(132);i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(M,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.21b2f5b3.chunk.js.map